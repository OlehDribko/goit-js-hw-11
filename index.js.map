{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst loader = document.querySelector('.loader');\n\n\n\n\nexport const createMarkup = results => {\n  return results\n    .map(item => {\n      const {\n        tags,\n        webformatURL,\n        likes,\n        comments,\n        views,\n        downloads,\n        largeImageURL,\n      } = item;\n      const card = `<li class=\"card\">\n     <a href=\"${largeImageURL}\" class=\"gallery-item\">\n          <img class=\"card-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n    <div class=\"card-body\">\n      <ul class=\"card-value-list\">\n        <li class=\"card-value\">\n          <h3>Likes</h3>\n          <p class=\"likes-value\">${likes}</p>\n        </li>\n        <li class=\"card-value\">\n          <h3>Views</h3>\n          <p class=\"views-value\">${views}</p>\n        </li>\n        <li class=\"card-value\">\n          <h3>Comments</h3>\n          <p class=\"comments-value\">${comments}</p>\n        </li>\n        <li class=\"card-value\">\n          <h3>Downloads</h3>\n          <p class=\"downloads-value\">${downloads}</p>\n        </li>\n      </ul>\n    </div>\n  </li>`;\n\n      return card;\n    })\n    .join('');\n};\n//*** SimpleLightbox */\nexport const lightbox = new SimpleLightbox('.gallery-item', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    \n  });\n\n//***   luader ***/\n\nexport const showLoader = () => {\n  loader.style.display = 'block';\n};\n\nexport const hideLoader = () => {\n  loader.style.display = 'none';\n  setTimeout(() => {\n    loader.style.display = 'none';\n  }, 3000);\n};\n\n","\n\n\n\nconst BASE_URL = 'https://pixabay.com/api'\nconst APIKAY = '48279024-d4145a4c2f3735ee57c61073f';\n\n\n\nexport const fetchAllImages = (userChoice) => {\n  return fetch(`${BASE_URL}/?key=${APIKAY}&q=${userChoice}&image_type=photo`)\n    .then(response => {\n      \n      if (!response.ok) {\n         throw new Error('404');\n      }\n      return response.json();\n    })\n    .then(data => {\n        const {hits} = data;\n    return hits;\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport {createMarkup, lightbox, showLoader, hideLoader } from './js/render-functions.js'\nimport {fetchAllImages} from './js/pixabay-api.js'\n\nconst refs = {\n    btnRequest: document.querySelector('.searchForm'),\n    input: document.querySelector('.user-request'),\n    gallery: document.querySelector('.card-list'),\n    \n  };\n\nrefs.btnRequest.addEventListener('submit', event => {\n    const userChoice = refs.input.value.trim();\n    \n    event.preventDefault();\n  \n    if (!userChoice) {\n      iziToast.show({\n        title: 'Не знайдено',\n        message: 'Введіть значення',\n        backgroundColor: 'red',\n        position: 'topRight',\n        \n      })\n      return;\n    }\n    refs.gallery.innerHTML = '';\n  \n    showLoader();\n  \n    fetchAllImages(userChoice)\n  \n      .then(images => {\n        const markup = createMarkup(images);\n        if(markup === ''){\n          iziToast.show({\n            title: 'Не знайдено',\n            message: 'Задані значення відсутні',\n            backgroundColor: 'red',\n            position: 'topRight',\n            \n          })\n        };\n        refs.gallery.innerHTML = markup;\n  \n        \n  \n        lightbox.refresh();\n      })\n      .catch(err => console.error('Помилка:', err)).finally(() =>{\n          hideLoader();\n      });\n  });"],"names":["loader","createMarkup","results","item","tags","webformatURL","likes","comments","views","downloads","largeImageURL","lightbox","SimpleLightbox","showLoader","hideLoader","BASE_URL","APIKAY","fetchAllImages","userChoice","response","data","hits","err","refs","event","iziToast","images","markup"],"mappings":"6vBAMA,MAAMA,EAAS,SAAS,cAAc,SAAS,EAKlCC,EAAeC,GACnBA,EACJ,IAAIC,GAAQ,CACX,KAAM,CACJ,KAAAC,EACA,aAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,cAAAC,CACD,EAAGP,EA2BJ,MA1Ba;AAAA,gBACHO,CAAa;AAAA,uCACUL,CAAY,UAAUD,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAM9BE,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILE,CAAK;AAAA;AAAA;AAAA;AAAA,sCAIFD,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIPE,CAAS;AAAA;AAAA;AAAA;AAAA,QAOhD,CAAK,EACA,KAAK,EAAE,EAGCE,EAAW,IAAIC,EAAe,gBAAiB,CACxD,aAAc,MACd,aAAc,GAElB,CAAG,EAIUC,EAAa,IAAM,CAC9Bb,EAAO,MAAM,QAAU,OACzB,EAEac,EAAa,IAAM,CAC9Bd,EAAO,MAAM,QAAU,OACvB,WAAW,IAAM,CACfA,EAAO,MAAM,QAAU,MACxB,EAAE,GAAI,CACT,ECnEMe,EAAW,0BACXC,EAAS,qCAIFC,EAAkBC,GACtB,MAAM,GAAGH,CAAQ,SAASC,CAAM,MAAME,CAAU,mBAAmB,EACvE,KAAKC,GAAY,CAEhB,GAAI,CAACA,EAAS,GACX,MAAM,IAAI,MAAM,KAAK,EAExB,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACV,KAAM,CAAC,KAAAC,CAAI,EAAID,EACnB,OAAOC,CACX,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,ECjBCC,EAAO,CACT,WAAY,SAAS,cAAc,aAAa,EAChD,MAAO,SAAS,cAAc,eAAe,EAC7C,QAAS,SAAS,cAAc,YAAY,CAEhD,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,GAAS,CAChD,MAAMN,EAAaK,EAAK,MAAM,MAAM,KAAI,EAIxC,GAFAC,EAAM,eAAc,EAEhB,CAACN,EAAY,CACfO,EAAS,KAAK,CACZ,MAAO,cACP,QAAS,mBACT,gBAAiB,MACjB,SAAU,UAElB,CAAO,EACD,MACD,CACDF,EAAK,QAAQ,UAAY,GAEzBV,IAEAI,EAAeC,CAAU,EAEtB,KAAKQ,GAAU,CACd,MAAMC,EAAS1B,EAAayB,CAAM,EAC/BC,IAAW,IACZF,EAAS,KAAK,CACZ,MAAO,cACP,QAAS,2BACT,gBAAiB,MACjB,SAAU,UAEtB,CAAW,EAEHF,EAAK,QAAQ,UAAYI,EAIzBhB,EAAS,QAAO,CACxB,CAAO,EACA,MAAMW,GAAO,QAAQ,MAAM,WAAYA,CAAG,CAAC,EAAE,QAAQ,IAAK,CACvDR,GACV,CAAO,CACP,CAAG"}