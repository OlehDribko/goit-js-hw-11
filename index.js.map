{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api'\nconst APIKAY = '48279024-d4145a4c2f3735ee57c61073f';\n\n\n\nexport const fetchAllImages = (userChoice) => {\n  return fetch(`${BASE_URL}/?key=${APIKAY}&q=${userChoice}&image_type=photo`)\n    .then(response => {\n      \n      if (!response.ok) {\n         throw new Error('404');\n      }\n      return response.json();\n    })\n    .then(data => {\n        const {hits} = data;\n    return hits;\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchAllImages } from './pixabay-api';\n\nconst refs = {\n  btnRequest: document.querySelector('.btn-request'),\n  input: document.querySelector('.user-request'),\n  gallery: document.querySelector('.card-list'),\n  loader: document.querySelector('.loader'),\n};\n\nexport const createMarkup = results => {\n  return results\n    .map(item => {\n      const {\n        tags,\n        webformatURL,\n        likes,\n        comments,\n        views,\n        downloads,\n        largeImageURL,\n      } = item;\n      const card = `<li class=\"card\">\n     <a href=\"${largeImageURL}\" class=\"gallery-item\">\n          <img class=\"card-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n    <div class=\"card-body\">\n      <ul class=\"card-value-list\">\n        <li class=\"card-value\">\n          <h3>Likes</h3>\n          <p class=\"likes-value\">${likes}</p>\n        </li>\n        <li class=\"card-value\">\n          <h3>Views</h3>\n          <p class=\"views-value\">${views}</p>\n        </li>\n        <li class=\"card-value\">\n          <h3>Comments</h3>\n          <p class=\"comments-value\">${comments}</p>\n        </li>\n        <li class=\"card-value\">\n          <h3>Downloads</h3>\n          <p class=\"downloads-value\">${downloads}</p>\n        </li>\n      </ul>\n    </div>\n  </li>`;\n\n      return card;\n    })\n    .join('');\n};\n//*** SimpleLightbox */\nconst lightbox = new SimpleLightbox('.gallery-item', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n//***   luader ***/\n\nconst showLoader = () => {\n  refs.loader.style.display = 'block';\n};\n\nconst hideLoader = () => {\n  refs.loader.style.display = 'none';\n  setTimeout(() => {\n    refs.loader.style.display = 'none';\n  }, 3000);\n};\n\n// ***** event ****//\n\nrefs.btnRequest.addEventListener('click', event => {\n  const userChoice = refs.input.value.trim();\n  event.preventDefault();\n\n  if (!userChoice) {\n    return;\n  }\n  refs.gallery.innerHTML = '';\n\n  showLoader();\n\n  fetchAllImages(userChoice)\n\n    .then(images => {\n      const markup = createMarkup(images);\n      refs.gallery.innerHTML = markup;\n\n      \n\n      lightbox.refresh();\n    })\n    .catch(err => console.error('Помилка:', err)).finally(() =>{\n        hideLoader();\n    });\n});\n"],"names":["BASE_URL","APIKAY","fetchAllImages","userChoice","response","data","hits","err","refs","createMarkup","results","item","tags","webformatURL","likes","comments","views","downloads","largeImageURL","lightbox","SimpleLightbox","showLoader","hideLoader","event","images","markup"],"mappings":"svBAAA,MAAMA,EAAW,0BACXC,EAAS,qCAIFC,EAAkBC,GACtB,MAAM,GAAGH,CAAQ,SAASC,CAAM,MAAME,CAAU,mBAAmB,EACvE,KAAKC,GAAY,CAEhB,GAAI,CAACA,EAAS,GACX,MAAM,IAAI,MAAM,KAAK,EAExB,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACV,KAAM,CAAC,KAAAC,CAAI,EAAID,EACnB,OAAOC,CACX,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,ECfCC,EAAO,CACX,WAAY,SAAS,cAAc,cAAc,EACjD,MAAO,SAAS,cAAc,eAAe,EAC7C,QAAS,SAAS,cAAc,YAAY,EAC5C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEaC,EAAeC,GACnBA,EACJ,IAAIC,GAAQ,CACX,KAAM,CACJ,KAAAC,EACA,aAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,cAAAC,CACD,EAAGP,EA2BJ,MA1Ba;AAAA,gBACHO,CAAa;AAAA,uCACUL,CAAY,UAAUD,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAM9BE,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILE,CAAK;AAAA;AAAA;AAAA;AAAA,sCAIFD,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIPE,CAAS;AAAA;AAAA;AAAA;AAAA,QAOhD,CAAK,EACA,KAAK,EAAE,EAGNE,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAClB,CAAG,EAIGC,EAAa,IAAM,CACvBb,EAAK,OAAO,MAAM,QAAU,OAC9B,EAEMc,EAAa,IAAM,CACvBd,EAAK,OAAO,MAAM,QAAU,OAC5B,WAAW,IAAM,CACfA,EAAK,OAAO,MAAM,QAAU,MAC7B,EAAE,GAAI,CACT,EAIAA,EAAK,WAAW,iBAAiB,QAASe,GAAS,CACjD,MAAMpB,EAAaK,EAAK,MAAM,MAAM,KAAI,EACxCe,EAAM,eAAc,EAEfpB,IAGLK,EAAK,QAAQ,UAAY,GAEzBa,IAEAnB,EAAeC,CAAU,EAEtB,KAAKqB,GAAU,CACd,MAAMC,EAAShB,EAAae,CAAM,EAClChB,EAAK,QAAQ,UAAYiB,EAIzBN,EAAS,QAAO,CACtB,CAAK,EACA,MAAMZ,GAAO,QAAQ,MAAM,WAAYA,CAAG,CAAC,EAAE,QAAQ,IAAK,CACvDe,GACR,CAAK,EACL,CAAC"}